import{B as y,e as d,M as f,b as h,A as b}from"./web.9ee1b91f.js";var w=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],a=0;a<e.rangeCount;a++)r.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(c){e.addRange(c)}),t&&t.focus()}},D=w,p={"text/plain":"Text","text/html":"Url",default:"Text"},C="Copy to clipboard: #{key}, Enter";function x(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function E(e,t){var r,a,c,s,n,o,i=!1;t||(t={}),r=t.debug||!1;try{c=D(),s=document.createRange(),n=document.getSelection(),o=document.createElement("span"),o.textContent=e,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",function(l){if(l.stopPropagation(),t.format)if(l.preventDefault(),typeof l.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var u=p[t.format]||p.default;window.clipboardData.setData(u,e)}else l.clipboardData.clearData(),l.clipboardData.setData(t.format,e);t.onCopy&&(l.preventDefault(),t.onCopy(l.clipboardData))}),document.body.appendChild(o),s.selectNodeContents(o),n.addRange(s);var v=document.execCommand("copy");if(!v)throw new Error("copy command was unsuccessful");i=!0}catch(l){r&&console.error("unable to copy using execCommand: ",l),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),i=!0}catch(u){r&&console.error("unable to copy using clipboardData: ",u),r&&console.error("falling back to prompt"),a=x("message"in t?t.message:C),window.prompt(a,e)}}finally{n&&(typeof n.removeRange=="function"?n.removeRange(s):n.removeAllRanges()),o&&document.body.removeChild(o),c()}return i}var R=E;const T=function(e){return d(b,{get children(){return[d(f,{get when(){return e.resource.isReady()},get children(){return h(()=>typeof e.children=="function",!0)()?e.children(e.resource()):e.children}}),d(f,{get when(){return e.resource.loading()},get children(){return e.loading(e.resource)}}),d(f,{get when(){return e.resource.error()},get children(){return e.error(e.resource)}})]}})};function S(e){return function(t){return d(T,{get resource(){return t.resource},get loading(){var r;return(r=t.loading)!=null?r:e.loading},get error(){var r;return(r=t.error)!=null?r:e.error},get children(){var r;return(r=t.children)!=null?r:e.children}})}}let g={info:"",getData(e){return this.info},setData(e,t){this.info=t},types:[]};const m=()=>{const e=(t,r,a,c)=>{r=r.toLowerCase();const s=t||g;for(const n of[...s.types])if(n==="x-application/"+r){const o=s.getData("x-application/"+r);try{const i=JSON.parse(o);return a(i.data,t,c),!0}catch(i){return console.warn(i),!1}}return!1};return{send(t,r){let a="x-application/"+r.type.toLowerCase();const c=JSON.stringify(r);t.setData(a,c),g.setData(a,c)},receiveAll(t,r,a=!1,c){Object.entries(r)[a?"forEach":"some"](([s,n])=>s==="extra"?n(null,t,c):e(t,s,n,c))},receive:e,detect(t,r,a){for(const c of[...t.types])if(c.startsWith("x-application/")){r[c]&&r[c](t,a);const s=c.replace("x-application/","").toUpperCase();r[s]&&r[s](t,a)}r.extra&&r.extra(t,a)}}};function k(e){const t=y(()=>e.children)(),{send:r}=m();return t.addEventListener("dragstart",a=>{e.text&&a.dataTransfer.setData("text",typeof e.text=="string"?e.text:e.text());const c=(s,n)=>{r(a.dataTransfer,{type:s,data:n})};e.send(c,a.dataTransfer)}),t.draggable=!0,t}const U=e=>{const t=y(()=>e.children)(),{detect:r,receiveAll:a}=m(),c=n=>{n.preventDefault(),n.stopPropagation(),e.detect&&r(n.dataTransfer,e.detect,n)},s=n=>{var o;n.preventDefault(),n.stopPropagation(),e.receive&&a(n.dataTransfer,e.receive,(o=e.multi)!=null?o:!0,n)};return t.addEventListener("dragover",c),t.addEventListener("drop",s),t};export{k as A,U as C,R as c,m as h,S as y};
