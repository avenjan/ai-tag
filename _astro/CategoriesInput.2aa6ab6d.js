import{j as b,e as p,g as s,i as d,F as h,r as g,h as x,t as r}from"./web.9ee1b91f.js";import{f as _,U as v,c as y}from"./index.4f2c4b12.js";import{A as C}from"./cloud.6055f26b.js";import{g as w,X as E}from"./index.b92d985b.js";const k=r('<button class="btn">+</button>',2),A=r('<section class="w-fit rounded-lg bg-slate-900 p-2"><header class="flex gap-2"><button class="btn">创建</button><input type="text" class="w-full rounded-md bg-slate-800 px-2 py-1 outline-none" placeholder="输入搜索或者创建"></header><div class="max-h-52 overflow-auto"><ul class="flex flex-col gap-1 "></ul></div></section>',11),F=r("<li></li>",2),D=o=>{const e=_(""),l=v(()=>new C.Query("gallery_category").contains("categories",e()).limit(100).find(),{initValue:[],immediately:!1,deps:[y(e,300)]}),m=w(()=>l.refetch());return p(E,{position:"bl",animateProps:{anime:"scale"},popup:()=>(l().length===0&&m(),(()=>{const n=s(A),i=n.firstChild,c=i.firstChild,u=c.nextSibling,f=i.nextSibling,$=f.firstChild;return c.$$click=()=>o.onselect(e()),u.$$input=t=>e(t.target.value),d($,p(h,{get each(){return l()},children:t=>(()=>{const a=s(F);return a.$$click=()=>o.onselect(t.get("categories")),d(a,()=>t.get("categories")),g(),a})()})),x(()=>u.value=e()),g(),n})()),get children(){return s(k)}})};b(["click","input"]);export{D as C};
