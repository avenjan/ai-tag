import{A as v}from"./cloud.6055f26b.js";import{j as C,b as u,g as d,f as _,i as a,r as S,e as b,F as w,S as H,t as f}from"./web.9ee1b91f.js";import{x as D}from"./index.4f2c4b12.js";import{c as h}from"./index.79db8632.js";const J={start_cursor:[],end:!1,async getData(c,l=!1,r){const t=new v.Query("gallery");return t.addDescending("create_time"),l===!1&&t.equalTo("r18",!1),r&&r(t),t.limit(10).skip(c*10).find().then(e=>e.map(n=>n.toJSON())).then(e=>(this.end=e.length===0,e))},async uploadData(c){const l=new v.Object("gallery");return Object.entries(c).forEach(r=>{l.set(...r)}),l.set("create_time",new Date),l.save()}},E=f('<nav class="flex flex-col  bg-emerald-700 p-2"><nav class="my-1 flex justify-between  bg-emerald-800  px-2"><span>正面魔咒</span><div class="font-icon  cursor-pointer hover:scale-125">📄</div></nav><code class="select-all"></code></nav>',10),k=f('<div class="flex flex-col  bg-emerald-700 p-2"><nav class="my-1 flex justify-between  bg-emerald-800 px-2"><span>负面魔咒</span><div class="font-icon  cursor-pointer hover:scale-125">📄</div></nav><code class="select-all"></code></div>',10),A=f('<nav class="flex flex-col justify-between gap-2  bg-emerald-700 px-2"><header class="my-1 flex justify-between  bg-emerald-800 px-2 text-center">参数</header><!#><!/></nav>',6),O=f('<nav class="flex flex-col  divide-y divide-slate-400  bg-emerald-700 px-2"><header class="my-1  flex w-full justify-between  bg-emerald-800 px-2 text-center">其他参数</header><!#><!/></nav>',6),I=f('<nav class="flex justify-between  bg-emerald-700 px-2">软件：<!#><!/></nav>',4),L=f('<div class="flex flex-wrap justify-between gap-2"><span><!#><!/>： </span><span class="select-all"></span></div>',8),M=f('<nav class="flex w-full flex-wrap justify-between py-2"><div class=" bg-emerald-800 px-2 text-white"></div><div class="select-all"></div></nav>',6),P=c=>{const l=u(()=>c.data()),r=D(()=>Object.assign({},l()?.Comment));return[u((()=>{const t=u(()=>!!l().Software);return()=>t()&&(()=>{const e=d(I),n=e.firstChild,i=n.nextSibling,[s,g]=_(i.nextSibling);return a(e,()=>l().Software,s,g),e})()})()),(()=>{const t=d(E),e=t.firstChild,n=e.firstChild,i=n.nextSibling,s=e.nextSibling;return i.$$click=()=>h(l().Description),s.$$click=()=>h(l().Description),a(s,()=>l().Description),S(),t})(),(()=>{const t=d(k),e=t.firstChild,n=e.firstChild,i=n.nextSibling,s=e.nextSibling;return i.$$click=()=>h(r().uc),s.$$click=()=>h(r().uc),a(s,()=>r().uc??"未知"),S(),t})(),(()=>{const t=d(A),e=t.firstChild,n=e.nextSibling,[i,s]=_(n.nextSibling);return a(t,b(w,{get each(){return Object.entries(r())},children:([g,x])=>g==="uc"?null:(()=>{const $=d(L),o=$.firstChild,m=o.firstChild,[p,y]=_(m.nextSibling);p.nextSibling;const j=o.nextSibling;return a(o,g,p,y),a(j,x),$})()}),i,s),t})(),b(H,{get when(){return l().others},get children(){const t=d(O),e=t.firstChild,n=e.nextSibling,[i,s]=_(n.nextSibling);return a(t,b(w,{get each(){return Object.entries(l().others??{})},children:([g,x])=>{const $=x.length>40;return(()=>{const o=d(M),m=o.firstChild,p=m.nextSibling;return o.classList.toggle("flex-col",$),a(m,g),p.classList.toggle("text-sm",$),a(p,x),o})()}}),i,s),t}})]};C(["click"]);const Q=(c,l=100)=>({ScrollEvent:t=>{const e=t.target;let n=Math.max(e.scrollHeight,e.scrollHeight),i=e.scrollTop;Math.min(e.clientHeight,e.clientHeight)+i>=n-l&&c()}});export{J as A,Q as S,P as a};
